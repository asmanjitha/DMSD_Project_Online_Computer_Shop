{% extends "base.html" %}

{% block title %}Manage Customer Status{% endblock %}

{% block content %}
{% include 'navbar_admin.html' %}

<h2 class="mb-4">Manage Customer Status</h2>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Customer ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Current Status</th>
            <th>Change Status</th>
        </tr>
    </thead>
    <tbody>
    {% for cust in customers %}
    <tr>
        <td>{{ cust.customer_id }}</td>
        <td>{{ cust.first_name }} {{ cust.last_name }}</td>
        <td>{{ cust.email }}</td>
        <td>{{ cust.status }}</td>
        <td>
            <form method="POST" class="d-flex gap-2 align-items-center">
                <input type="hidden" name="customer_id" value="{{ cust.customer_id }}">
                <select name="new_status" class="form-select form-select-sm" required>
                    <option value="regular" {% if cust.status == 'regular' %}selected{% endif %}>Regular</option>
                    <option value="silver" {% if cust.status == 'silver' %}selected{% endif %}>Silver</option>
                    <option value="gold" {% if cust.status == 'gold' %}selected{% endif %}>Gold</option>
                    <option value="platinum" {% if cust.status == 'platinum' %}selected{% endif %}>Platinum</option>
                </select>
                <button type="submit" class="btn btn-sm btn-primary">Update</button>
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}
